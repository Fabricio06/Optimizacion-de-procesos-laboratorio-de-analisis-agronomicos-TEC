// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model autenticar {
  id          Int     @id @default(autoincrement())
  contrasena  String
  person_tecnico persona_tecnico []
}

model persona_tecnico {
  id                  Int      @id @default(autoincrement())
  correoInstitucional String
  nombre              String
  apellido1           String
  apellido2           String
  autenticar          autenticar @relation(fields: [autenticarId], references: [id])
  autenticarId        Int
}

model persona_cliente{
  id              Int @id @default(autoincrement())
  cedula          Int @unique
  empresa         String
  telefono        String
  email_informe   String
  email_factura   String
  provincia       String
  canton          String
  distrito        String
  otras_senas     String
  cultivo         String
  boleta          String
  cliente_formulario cliente_formulario []
}

model cliente_formulario{
  id Int @id @default(autoincrement())
  persona_cliente persona_cliente @relation(fields: [clienteId], references: [id])
  clienteId Int 
  formulario formulario @relation(fields: [formularioId], references: [id])
  formularioId Int
}

model formulario{
  id            Int @id @default(autoincrement())
  muestras muestras @relation(fields: [muestrasId], references: [id])
  muestrasId    Int 
  cliente_formulario cliente_formulario []
}


model muestras{
  id     Int @id @default(autoincrement())
  codigo_laboratorio String
  identificacion_campo String
  tipo_muestras tipo_muestras @relation(fields: [tipo_muestraId], references: [id])
  tipo_muestraId Int
  formulario formulario[]
}

model tipo_muestras{
  id        Int @id @default(autoincrement())
  nombre    String @unique
  muestras muestras []
}